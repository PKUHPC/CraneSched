site_name: 鹤思文档
site_description: Documentation for CraneSched, an HPC and AI Scheduling System.
site_author: High Performance Computing Platform of Peking University
site_url: https://cranesched.readthedocs.io/

use_directory_urls: false

# Repository
repo_name: PKUHPC/CraneSched
repo_url: https://github.com/PKUHPC/CraneSched

# Copyright
copyright: Copyright &copy; 2022 - 2026 PKUHPC

docs_dir: docs

theme:
  name: material
  language: zh
  features:
    - navigation.tabs
    - navigation.sections
    - toc.follow
    - search.suggest
    - search.highlight
    - navigation.expand
    - navigation.top
    - content.code.copy
    - content.code.annotate
    - navigation.footer
    - navigation.tracking
  palette:
    - scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: 切换至深色模式
    - scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: 切换至浅色模式
  logo: images/logo.png
  favicon: images/logo.png

nav:
  - Home: index.md
  - Deployment:
    - Overview: deployment/index.md
    - Frontend:
      - Deployment: deployment/frontend/frontend.md
      - Plugins: deployment/frontend/plugins.md
    - Backend:
      - Rocky Linux 9: deployment/backend/Rocky9.md
      - Debian/Ubuntu: deployment/backend/Ubuntu.md
      - CentOS 7: deployment/backend/CentOS7.md
      - eBPF Support: deployment/backend/eBPF.md
    - Packaging Guide: deployment/packaging.md
    - Container Deployment: deployment/container.md
    - Configuration:
      - Cluster Configuration: deployment/configuration/config.md
      - Database Configuration: deployment/configuration/database.md
      - PAM Module: deployment/configuration/pam.md
      - Multi-Node Deployment: deployment/configuration/multi-node.md
      - PKI+TLS Deployment: deployment/configuration/pki.md
      - License Usage Guide: deployment/configuration/license_guide.md
      - Keepalived Guide: deployment/configuration/keepalived.md
      - Lua Guide: deployment/configuration/lua_guide.md
      - Prolog & Epilog Guide: deployment/configuration/prolog_epilog_guide.md
  - Commands:
    - Job Submission:
        - cbatch: command/cbatch.md
        - crun: command/crun.md
        - calloc: command/calloc.md
    - Job Monitoring:
        - cqueue: command/cqueue.md
        - cinfo: command/cinfo.md
        - ceff: command/ceff.md
        - cacct: command/cacct.md
    - Job Control:
        - ccancel: command/ccancel.md
        - ccontrol: command/ccontrol.md
    - Container:
        - ccon: command/ccon.md
    - Account Management:
        - cacctmgr: command/cacctmgr.md
  - Reference:
    - Exit Codes: reference/exit_code.md
    - Job Status: reference/job_status.md
    - Error Codes: reference/error_code.md
    - Job Environment Variables: reference/job_env_vars.md
    - Job Steps: reference/job_steps.md
    - Job Dependency: reference/job_dependency.md
    - Pending Reason: reference/pending_reason.md
    - Container Support:
        - Overview: reference/container/index.md
        - Concepts: reference/container/concepts.md
        - Quick Start: reference/container/quickstart.md
        - Examples: reference/container/examples.md
        - Troubleshooting: reference/container/troubleshooting.md
    - Use Cases:
        - Overview: reference/use_cases.md
        - Multi-Node Parallel Job: reference/use_case_multi_node.md
        - GPU-Accelerated Training: reference/use_case_gpu.md
        # - Parameter Sweep with Job Arrays: reference/use_case_param_sweep.md
        # - Chained Jobs with Dependencies: reference/use_case_pipeline.md

plugins:
  - search
  - i18n:
      docs_structure: folder
      languages:
        - locale: zh
          name: 中文
          default: true
          build: true
          link: /
          site_name: "鹤思文档"
          theme:
            language: zh
          nav_translations:
            Home: 首页
            Deployment: 部署指南
            Overview: 概览
            Frontend: 前端
            Backend: 后端
            Configuration: 配置
            Commands: 命令手册
            Job Submission: 作业提交
            Job Monitoring: 作业查询
            Job Control: 作业控制
            Container: 容器
            Account Management: 账户管理
            Reference: 参考文档
            Exit Codes: 退出代码
            Job Status: 作业状态
            Error Codes: 系统错误提示和解决方法
            Job Environment Variables: 作业环境变量
            Job Steps: 作业步
            Job Dependency: 作业依赖
            Pending Reason: 作业排队原因
            License Usage Guide: 许可证功能配置指南
            Keepalived Guide: Keepalived 配置指南
            Lua Guide: Lua 脚本配置指南
            Prolog & Epilog Guide: Prolog/Epilog 配置指南
            Use Cases: 使用案例
            Multi-Node Parallel Job: 多节点并行作业
            GPU-Accelerated Training: GPU 加速训练
            Concepts: 核心概念
            Quick Start: 快速上手
            Examples: 使用示例
            Troubleshooting: 故障排除
            # Parameter Sweep with Job Arrays: 参数扫描作业数组
            # Chained Jobs with Dependencies: 带依赖的作业链
            Rocky Linux 9: Rocky Linux 9
            Debian/Ubuntu: Debian/Ubuntu
            CentOS 7: CentOS 7
            Packaging Guide: 打包指南
            eBPF Support: eBPF 支持
            Cluster Configuration: 集群配置
            Database Configuration: 数据库配置
            PAM Module: PAM 模块
            Multi-Node Deployment: 多节点部署
            PKI+TLS Deployment: PKI + TLS 安全配置
            Container Support: 容器支持
            Container Deployment: 容器功能部署
            Plugins: 插件部署
        - locale: en
          name: English
          build: true
          site_name: "CraneSched Documentation"
          theme:
            language: en
            palette:
              - scheme: default
                primary: indigo
                accent: indigo
                toggle:
                  icon: material/brightness-7
                  name: Switch to dark mode
              - scheme: slate
                primary: indigo
                accent: indigo
                toggle:
                  icon: material/brightness-4
                  name: Switch to light mode

markdown_extensions:
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - def_list
  - tables
  - toc:
      permalink: true
  - attr_list
  - admonition
  - md_in_html
  - pymdownx.details
  - pymdownx.superfences
  - pymdownx.tabbed:
      alternate_style: true
      slugify: !!python/object/apply:pymdownx.slugs.slugify
        kwds:
          case: fold
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.caret
  - pymdownx.smartsymbols
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.arithmatex:
      generic: true
